async function saveResultsToGitHub(username, score) {
    try {
        // جلب الملف الحالي
        const getResponse = await fetch(
            `https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/results.json`,
            {
                headers: {
                    'Authorization': `token ${GITHUB_TOKEN}`
                }
            }
        );
        
        const existingData = await getResponse.json();
        const currentContent = JSON.parse(atob(existingData.content));
        
        // إضافة النتيجة الجديدة
        const newResult = {
            id: Date.now(),
            username,
            score,
            timestamp: new Date().toISOString(),
            answers: userAnswers
        };
        
        const updatedContent = [...currentContent, newResult];
        
        // رفع الملف المحدث
        const putResponse = await fetch(
            `https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/results.json`,
            {
                method: 'PUT',
                headers: {
                    'Authorization': `token ${GITHUB_TOKEN}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    message: 'New student result',
                    content: btoa(JSON.stringify(updatedContent)),
                    sha: existingData.sha
                })
            }
        );
        
        console.log('تم حفظ النتيجة بنجاح');
    } catch (error) {
        console.error('خطأ في الحفظ:', error);
    }
}
